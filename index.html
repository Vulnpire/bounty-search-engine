<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bounty Search Engine</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #0f0f0f;
            color: #00ff00;
            margin: 0;
            padding: 0;
            text-align: center;
            overflow-x: hidden;
        }

        .container {
            margin: 50px auto;
            max-width: 800px;
            padding: 20px;
            border: 1px solid #00ff00;
            border-radius: 10px;
            background-color: #1a1a1a;
            box-shadow: 0 0 10px #00ff00;
        }

        h1 {
            color: #00ff00;
            font-size: 2em;
            margin-bottom: 10px;
        }

        p {
            font-size: 1.2em;
            color: #00ff00;
        }

        .search-container {
            margin-top: 20px;
        }

        input.search-input {
            border: 2px solid #00ff00;
            background-color: #333;
            color: #00ff00;
            font-family: 'Courier New', Courier, monospace;
            padding: 10px;
            width: 80%;
        }

        button.search-button {
            border: 2px solid #00ff00;
            background-color: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', Courier, monospace;
            padding: 10px 20px;
            cursor: pointer;
        }

        .results-container {
            margin-top: 30px;
            text-align: left;
        }

        .result-item {
            margin-bottom: 20px;
            border-bottom: 1px solid #00ff00;
            padding-bottom: 10px;
        }

        .result-item a {
            color: #00ff00;
            text-decoration: none;
        }

        .footer {
            margin-top: 50px;
            font-size: 0.9em;
            color: #008000;
        }

        .animated-text {
            display: inline-block;
            font-size: 1.2em;
            animation: flicker 2s infinite alternate;
        }

        @keyframes flicker {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }

            100% {
                opacity: 1;
            }
        }

        .dorks-container {
            margin: 50px auto;
            max-width: 800px;
            padding: 20px;
            border: 1px solid #00ff00;
            border-radius: 10px;
            background-color: #1a1a1a;
            box-shadow: 0 0 10px #00ff00;
            color: #f0f0f0;
        }

        .dorks-container h2,
        .dorks-container p,
        .dorks-container a {
            color: #00ff00;
        }

        .dorks-container ul {
            list-style-type: none;
            padding: 0;
        }

        .dorks-container li {
            margin-bottom: 10px;
        }

        .dorks-container a {
            text-decoration: none;
            color: #69f0ae;
        }

        .dorks-container a:hover {
            text-decoration: underline;
        }

        .dorks-container a.clicked {
            color: #2196F3;
        }

        .dorks-container p.description {
            margin-bottom: 5px;
            font-weight: bold;
        }

        .paging {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }

        .paging a {
            color: #00ff00;
            padding: 5px 10px;
            border: 1px solid #00ff00;
            border-radius: 5px;
            margin: 0 5px;
            text-decoration: none;
        }

        .paging a:hover {
            background-color: #333;
        }

        .pagination-controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .pagination-controls button {
            background-color: #1a1a1a;
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 10px;
            cursor: pointer;
        }

        .pagination-controls button:disabled {
            background-color: #333;
            border: 2px solid #333;
            cursor: not-allowed;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Bounty Search Engine</h1>
        <p class="animated-text">Find what you're looking for in the matrix...</p>
        <div class="search-container">
            <input type="text" id="searchInput" class="search-input" placeholder="Enter search term...">
            <button id="searchButton" class="search-button">Search</button>
        </div>
        <div class="results-container" id="resultsContainer"></div>
        <div class="pagination-controls" id="paginationControls"></div>
        <p>Be cautious, knowledge is power!</p>
    </div>

    <!-- Google Dorks Section -->
    <div class="dorks-container">
        <h2>Google Dorks for Bug Bounty</h2>
        <p>
            <a href="https://github.com/Vulnpire/bounty-search-engine" target="_blank">GitHub Repo</a><br><br>
        </p>
        <label for="domainInput">Enter a domain:</label>
        <input type="text" id="domainInput" placeholder="example.com">
        <button id="updateDomainButton">Update Domain</button>
        <ul id="dorkList"></ul>
    </div>

    <!-- Paging Links -->
    <div class="paging">
        <a href="shodan.html">Shodan Dorks</a>
        <a href="gits.html">GitHub Dorks</a>
    </div>

    <!-- Footer -->
    <div class="footer">
        &copy; 2024 Bounty Search Engine | Stay Anonymous
    </div>

<script>
	// Variables for search
	let currentPage = 1;
	const resultsPerPage = 10;  // Google Custom Search returns up to 10 results per page

	// Array of API keys for rotation
	const apiKeys = [
		'AIzaSyC1dJFqnh9aU3XzT0atBz9jm7PpU58IKf0',
		'AIzaSyAC9XwXC7PC_gq1Rv1ImrLoM28hShlscDo',
		'AIzaSyAmIVZk_swF9RQ-6mmp-jJa03njc-MKyfM'
	];
	let currentApiKeyIndex = 0;

	// Get current API key
	function getCurrentApiKey() {
		return apiKeys[currentApiKeyIndex];
	}

	// Switch to the next API key
	function switchApiKey() {
		currentApiKeyIndex = (currentApiKeyIndex + 1) % apiKeys.length;
	}

	// Global variable to store the current domain(s)
	let currentDomains = [];
	let userAgents = [];

	async function fetchUserAgents() {
    const response = await fetch('https://raw.githubusercontent.com/Vulnpire/bounty-search-engine/main/utils/user-agents.txt');
    const text = await response.text();
    userAgents = text.split('\n').filter(ua => ua.trim().length > 0);
}

	// Get a random user agent
	function getRandomUserAgent() {
		return userAgents[Math.floor(Math.random() * userAgents.length)];
	}


	// Function to perform search with pagination
	async function performSearch(startIndex = 1, query = null) {
		if (!query) {
		    query = document.getElementById("searchInput").value;
		}
		const resultsContainer = document.getElementById("resultsContainer");
		resultsContainer.innerHTML = '';

		if (!query) {
		    resultsContainer.innerHTML = '<p>Please enter a search term.</p>';
		    return;
		}

		// Replace example.com with the user-provided domain(s)
		if (currentDomains.length > 0) {
		    query = currentDomains.map(domain => query.replace(/example\.com/g, domain)).join(' OR ');
		}

		// Anti-Bot Delay
		const delay = Math.floor(Math.random() * 1000);

		setTimeout(async () => {
		    const apiKey = getCurrentApiKey();
		    const cx = '759aed2f7b4be4b83'; // Replace with your CSE ID
		    const googleApiUrl = `https://www.googleapis.com/customsearch/v1?q=${encodeURIComponent(query)}&key=${apiKey}&cx=${cx}&start=${startIndex}`;
		    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(googleApiUrl)}`;

		    try {
		        const response = await fetch(proxyUrl);
		        if (!response.ok) {
		            throw new Error('Network response was not ok');
		        }
		        const data = await response.json();
		        const jsonData = JSON.parse(data.contents);

		        // Check for quota exceeded error
		        if (jsonData.error && jsonData.error.code === 429) {
		            // Switch to the next API key
		            switchApiKey();
		            // Retry the request with the next API key
		            performSearch(startIndex, query);
		            return;
		        }

		        if (jsonData.items) {
		            displayResults(jsonData.items);
		            setupPaginationControls(jsonData.queries, startIndex, query);
		        } else {
		            resultsContainer.innerHTML = '<p>No results found.</p>';
		        }
		    } catch (error) {
		        resultsContainer.innerHTML = `<p>Error fetching search results: ${error.message}</p>`;
		    }
		}, delay);
	}


	// Display search results
	function displayResults(items) {
		const resultsContainer = document.getElementById("resultsContainer");
		items.forEach(item => {
		    const resultItem = document.createElement("div");
		    resultItem.className = "result-item";

		    const title = document.createElement("a");
		    title.href = item.link;
		    title.textContent = item.title;
		    title.target = "_blank";

		    const snippet = document.createElement("p");
		    snippet.textContent = item.snippet;

		    resultItem.appendChild(title);
		    resultItem.appendChild(snippet);

		    resultsContainer.appendChild(resultItem);
		});
	}

	// Setup pagination controls
	function setupPaginationControls(queries, startIndex, query) {
		const paginationControls = document.getElementById("paginationControls");
		paginationControls.innerHTML = '';

		// Pagination data from the API response
		const totalResults = parseInt(queries.request[0].totalResults, 10);
		const previousIndex = startIndex - resultsPerPage;
		const nextIndex = startIndex + resultsPerPage;

		// Previous button
		const prevButton = document.createElement("button");
		prevButton.textContent = "Previous";
		prevButton.disabled = startIndex <= 1;
		prevButton.addEventListener("click", () => performSearch(previousIndex, query));
		paginationControls.appendChild(prevButton);

		// Next button
		const nextButton = document.createElement("button");
		nextButton.textContent = "Next";
		nextButton.disabled = nextIndex > totalResults;
		nextButton.addEventListener("click", () => performSearch(nextIndex, query));
		paginationControls.appendChild(nextButton);
	}

	// Event listeners for search
	document.getElementById("searchButton").addEventListener("click", () => {
		currentPage = 1;
		performSearch(currentPage);
	});

	document.getElementById("searchInput").addEventListener("keypress", (event) => {
		if (event.key === "Enter") {
		    currentPage = 1;
		    performSearch(currentPage);
		}
	});

	// Functionality for Google Dorks section
	let originalDorks = [];

// Function to update domain dorks
function updateDomain() {
    const domainInput = document.getElementById("domainInput");
    currentDomains = domainInput.value.split(",").map(domain => domain.trim());

    if (currentDomains.length === 0) return;

    refreshDorksDisplay();
}

	// Function to refresh the displayed dorks
	function refreshDorksDisplay() {
		const dorkList = document.getElementById("dorkList");
		dorkList.innerHTML = ''; // Clear the existing list

		originalDorks.forEach((dork, index) => {
		    let updatedDork = dork;

		    if (currentDomains.length > 0) {
		        updatedDork = currentDomains.map(domain => {
		            if (!dork.includes('site:')) {
		                updatedDork = dork.replace(/example\.com/g, `site:${domain}`);
		            } else {
		                updatedDork = dork.replace(/example\.com/g, `${domain}`);
		            }
		            return updatedDork;
		        }).join(' OR ');
		    }

		    const listItem = createDorkListItem(updatedDork, getDorkDescription(dork));
		    dorkList.appendChild(listItem);
		});

		// Clear the search input before updating
		const searchInput = document.getElementById("searchInput");
		searchInput.value = '';
	}

	// Event listener for pressing Enter in domain input field
	document.getElementById("domainInput").addEventListener("keypress", (event) => {
		if (event.key === "Enter") {
		    updateDomain();
		}
	});

	// Event listener for the button to update domains
	document.getElementById("updateDomainButton").addEventListener("click", () => {
		updateDomain();
	});




	// Function to get description for a dork (dummy implementation)
	function getDorkDescription(dork) {
		// For now, it's a placeholder.
		return 'Description for ' + dork;
	}

	// Create dork list item
	function createDorkListItem(dork, description) {
		const listItem = document.createElement("li");

		if (description) {
		    const desc = document.createElement("p");
		    desc.textContent = description;
		    desc.classList.add("description");
		    listItem.appendChild(desc);
		}

		const link = document.createElement("a");
		link.textContent = dork;
		link.classList.add("dorkLink");
		link.href = "#";
		link.addEventListener("click", (event) => {
		    event.preventDefault();
		    const searchInput = document.getElementById("searchInput");
		    searchInput.value = dork;
		    performSearch(1, dork);
		});

		listItem.appendChild(link);

		return listItem;
	}

	// Update event listener for the button
	document.getElementById("updateDomainButton").addEventListener("click", () => {
		updateDomain();
	});

	// Functionality for fetching initial dorks (Contribute?)
	async function fetchDorks() {
		const url = "https://raw.githubusercontent.com/Vulnpire/bounty-search-engine/main/dorks/google-dorks.md";
		const response = await fetch(url);
		const text = await response.text();

		const regex = /(?:^### (.+)|^> (.+))/gm;
		let match;
		let title = '';
		let firstDork = true;

		while ((match = regex.exec(text)) !== null) {
		    if (match[1]) {
		        // Title match
		        title = match[1];
		    } else {
		        // Dork match
		        if (firstDork) {
		            firstDork = false;
		            continue;
		        }
		        const dork = match[2];
		        originalDorks.push(dork);
		        const listItem = createDorkListItem(dork, title);
		        const dorkList = document.getElementById("dorkList");
		        dorkList.appendChild(listItem);
		    }
		}
	}

	// Fetch initial dorks
	fetchDorks();



</script>
