<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bounty Search Engine</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #0f0f0f;
            color: #00ff00;
            margin: 0;
            padding: 0;
            text-align: center;
            overflow-x: hidden;
        }

        .cheatsheet-tab {
            margin: 50px auto;
            max-width: 800px;
            padding: 20px;
            border: 1px solid #00ff00;
            border-radius: 10px;
            background-color: #1a1a1a;
            box-shadow: 0 0 10px #00ff00;
            color: #f0f0f0;
        }

        .cheatsheet-tab h2 {
            color: #00ff00;
        }

        .cheatsheet-tab .category {
            margin: 20px 0;
        }

        .cheatsheet-tab .category h3 {
            cursor: pointer;
            color: #00ff00;
            border-bottom: 1px solid #00ff00;
            padding-bottom: 5px;
        }

        .cheatsheet-tab .category ul {
            list-style-type: none;
            padding: 0;
            display: none; /* Hide by default */
        }

        .cheatsheet-tab .category ul li {
            margin: 10px 0;
        }

        .cheatsheet-tab .category ul li a {
            color: #69f0ae;
            text-decoration: none;
        }

        .cheatsheet-tab .category ul li a:hover {
            text-decoration: underline;
        }

        .container {
            margin: 50px auto;
            max-width: 800px;
            padding: 20px;
            border: 1px solid #00ff00;
            border-radius: 10px;
            background-color: #1a1a1a;
            box-shadow: 0 0 10px #00ff00;
        }

        h1 {
            color: #00ff00;
            font-size: 2em;
            margin-bottom: 10px;
        }

        p {
            font-size: 1.2em;
            color: #00ff00;
        }

		.search-container {
			text-align: center;
			margin-bottom: 20px;
		}

		.search-container .search-input {
			display: block;
			width: 80%;
			max-width: 300px;
			margin: 10px auto;
			padding: 10px;
			border: 2px solid #00ff00;
			background-color: #333;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			font-size: 1em;
		}

		.search-container .search-button {
			display: block;
			width: 80%;
			max-width: 150px;
			margin: 0 auto 10px auto;
			padding: 10px 20px;
			border: 2px solid #00ff00;
			background-color: #1a1a1a;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			font-size: 1em;
			cursor: pointer;
			transition: background-color 0.3s, color 0.3s, border-color 0.3s;
		}

		.search-container .search-button:hover {
			background-color: #00ff00;
			color: #1a1a1a;
		}

		.dorks-container .search-container {
			text-align: center;
			margin-top: 20px;
		}

		.dorks-container .search-input, .search-container .search-input {
			text-align: center;
		}

		.dorks-container .search-input {
			display: block;
			width: 80%;
			max-width: 400px;
			margin: 10px auto;
			padding: 10px;
			border: 2px solid #00ff00;
			background-color: #333;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			font-size: 1em;
		}

		.dorks-container .search-button {
			display: block;
			width: 80%;
			max-width: 200px;
			margin: 0 auto 10px auto;
			padding: 10px 20px;
			border: 2px solid #00ff00;
			background-color: #1a1a1a;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			font-size: 1em;
			cursor: pointer;
			transition: background-color 0.3s, color 0.3s, border-color 0.3s;
		}

		.search-container, .dorks-container .search-container {
			text-align: center;
			margin-bottom: 20px;
		}

		.search-container .search-input, .dorks-container .search-input {
			display: block;
			width: 90%;
			max-width: 800px;
			margin: 20px auto;
			padding: 8px;
			border: 2px solid #00ff00;
			background-color: #333;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			font-size: 1.2em;
			text-align: center;
		}

		.search-container .search-button, .dorks-container .search-button {
			display: block;
			width: 60%;
			max-width: 300px;
			margin: 10px auto;
			padding: 8px 20px;
			border: 2px solid #00ff00;
			background-color: #1a1a1a;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			font-size: 1.2em;
			cursor: pointer;
			transition: background-color 0.3s, color 0.3s, border-color 0.3s;
			text-align: center;
		}

		.search-container .search-button:hover, .dorks-container .search-button:hover {
			background-color: #00ff00;
			color: #1a1a1a;
		}

        input.search-input {
            border: 2px solid #00ff00;
            background-color: #333;
            color: #00ff00;
            font-family: 'Courier New', Courier, monospace;
            padding: 10px;
            width: 80%;
        }

		button.search-button {
			border: 2px solid #00ff00;
			background-color: #1a1a1a;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			padding: 10px 20px;
			cursor: pointer;
			transition: background-color 0.3s, color 0.3s, border-color 0.3s;
			margin-left: 20px;
			margin-top: 10px;
		}

		button.search-button:hover {
			background-color: #00ff00;
			color: #1a1a1a;
		}


        .results-container {
            margin-top: 30px;
            text-align: center;
        }

        .result-item {
            margin-bottom: 20px;
            border-bottom: 1px solid #00ff00;
            padding-bottom: 10px;
        }

        .result-item a {
            color: #00ff00;
            text-decoration: none;
        }

        .footer {
            margin-top: 50px;
            font-size: 0.9em;
            color: #008000;
        }

        .animated-text {
            display: inline-block;
            font-size: 1.2em;
            animation: flicker 2s infinite alternate;
        }

        @keyframes flicker {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }

            100% {
                opacity: 1;
            }
        }

        .dorks-container {
            margin: 50px auto;
            max-width: 800px;
            padding: 20px;
            border: 1px solid #00ff00;
            border-radius: 10px;
            background-color: #1a1a1a;
            box-shadow: 0 0 10px #00ff00;
            color: #f0f0f0;
        }

        .dorks-container h2,
        .dorks-container p,
        .dorks-container a {
            color: #00ff00;
        }

        .dorks-container ul {
            list-style-type: none;
            padding: 0;
        }

        .dorks-container li {
            margin-bottom: 10px;
        }

        .dorks-container a {
            text-decoration: none;
            color: #69f0ae;
        }

        .dorks-container a:hover {
            text-decoration: underline;
        }

        .dorks-container a.clicked {
            color: #2196F3;
        }

        .dorks-container p.description {
            margin-bottom: 5px;
            font-weight: bold;
        }

        .paging {
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }

        .paging a {
            color: #00ff00;
            padding: 5px 10px;
            border: 1px solid #00ff00;
            border-radius: 5px;
            margin: 0 5px;
            text-decoration: none;
        }

        .paging a:hover {
            background-color: #333;
        }

        .pagination-controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .domain-label {
            color: #00ff00;
            font-size: 1.3em;
            margin-right: 10px;
        }

        .domain-input {
            border: 2px solid #00ff00;
            background-color: #333;
            color: #00ff00;
            font-family: 'Courier New', Courier, monospace;
            padding: 10px;
            width: calc(80% - 60px); /* Adjust the width to maintain alignment */
            display: inline-block; /* Ensure the input box and button stay on the same line */
            vertical-align: middle; /* Align vertically with the button */
        }

        #cheatsheets-pane {
            position: fixed;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background-color: #007bff;
            color: white;
            text-align: center;
            line-height: 50px;
            cursor: pointer;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        #cheatsheets-window-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
        }

        #cheatsheets-window-header h5 {
            margin: 0;
            flex-grow: 1;
            text-align: center;
        }

        #cheatsheets-window {
            position: fixed;
            right: 60px;
            top: 10%;
            width: 400px;
            height: 500px;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            padding: 10px;
            border-radius: 8px;
            overflow-y: auto;
        }

        #cheatsheets-window-header button {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            padding: 0;

        }

		#updateDomainButton {
			border: 2px solid #00ff00;
			background-color: #1a1a1a;
			color: #00ff00;
			font-family: 'Courier New', Courier, monospace;
			padding: 10px 20px;
			cursor: pointer;
			text-align: center;
		}


		#updateDomainButton:hover {
			background-color: #00ff00;
			color: #1a1a1a;
		}

        #updateDomainButton {
            border: 2px solid #00ff00;
            background-color: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', Courier, monospace;
            padding: 7px 20px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }

        #updateDomainButton:hover {
            background-color: #00ff00;
            color: #1a1a1a;
        }

        .pagination-controls button {
            background-color: #1a1a1a;
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 10px;
            cursor: pointer;
        }

        .pagination-controls button:disabled {
            background-color: #333;
            border: 2px solid #333;
            cursor: not-allowed;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Bounty Search Engine</h1>
        <p class="animated-text">Find what you're looking for in the matrix...</p>
		<div class="search-container">
			<button id="searchButton" class="search-button">Search</button>
			<input type="text" id="searchInput" class="search-input" placeholder="Enter search term...">
		</div>
        <div class="results-container" id="resultsContainer"></div>
        <div class="pagination-controls" id="paginationControls"></div>
        <p>Be cautious, knowledge is power!</p>
    </div>

    <!-- Google Dorks Section -->
	<div class="dorks-container">
		<h2>Google Dorks for Bug Bounty</h2>
		<p>
		    <a href="https://github.com/Vulnpire/bounty-search-engine" target="_blank">GitHub Repo</a><br><br>
		</p>
		<div class="search-container">
		    <input type="text" id="domainInput" class="search-input" placeholder="Enter domain...">
		    <button id="updateDomainButton" class="search-button">Update Domain</button>
		</div>
		<ul id="dorkList"></ul>
	</div>


	<div id="notification" style="display: none; position: fixed; top: 20px; right: 20px; background-color: #1a1a1a; color: #00ff00; padding: 10px; border: 2px solid #00ff00; border-radius: 5px;">
		Notification
	</div>

    <div id="cheatsheets-pane">&#x270E;</div>

    <div id="cheatsheets" style="display: none;">
        <div>
            <h6>Cheatsheets</h6>
            <ul>
                <li><a href="#" target="_blank">Cheatsheet Link Test</a> | Description</li>
                <li><a href="#" target="_blank">Cheatsheet Link Test</a> | Description</li>
                <li><a href="#" target="_blank">Cheatsheet Link Test</a> | Description</li>
            </ul>
        </div>
        <div>
            <h6>Writeups</h6>
            <ul>
                <li><a href="#" target="_blank">Writeup Link Test</a> | Description</li>
                <li><a href="#" target="_blank">Writeup Link Test</a> | Description</li>
                <li><a href="#" target="_blank">Writeup Link Test</a> | Description</li>
            </ul>
        </div>
        <div>
            <h6>Dorks</h6>
            <ul>
                <li><a href="#" target="_blank">Dork Link Test</a> | Description</li>
                <li><a href="#" target="_blank">Dork Link Test</a> | Description</li>
                <li><a href="#" target="_blank">Dork Link Test</a> | Description</li>
            </ul>
        </div>
    </div>

    <!-- Paging Links -->
    <div class="paging">
        <a href="shodan.html">Shodan Dorks</a>
        <a href="gits.html">GitHub Dorks</a>
    </div>

    <!-- Footer -->
    <div class="footer">
        &copy; 2024 Bounty Search Engine | Stay Anonymous
    </div>

<script>
    // Variables for search
    let currentPage = 1;
    const resultsPerPage = 10;  // Google Custom Search returns up to 10 results per page

    // Array of API keys for rotation
    const apiKeys = [
        'AIzaSyC1dJFqnh9aU3XzT0atBz9jm7PpU58IKf0',
        'AIzaSyAC9XwXC7PC_gq1Rv1ImrLoM28hShlscDo',
        'AIzaSyAmIVZk_swF9RQ-6mmp-jJa03njc-MKyfM'
    ];
    let currentApiKeyIndex = 0;

    // Get current API key
    function getCurrentApiKey() {
        return apiKeys[currentApiKeyIndex];
    }

    // Switch to the next API key
    function switchApiKey() {
        currentApiKeyIndex = (currentApiKeyIndex + 1) % apiKeys.length;
    }

    // Global variable to store the current domain(s)
    let currentDomains = [];

    // Function to perform search with pagination
	async function performSearch(startIndex = 1, query = null, notify = false) {
		if (!query) {
		    query = document.getElementById("searchInput").value;
		}
		const resultsContainer = document.getElementById("resultsContainer");
		resultsContainer.innerHTML = '';

		if (!query) {
		    resultsContainer.innerHTML = '<p>Please enter a search term.</p>';
		    return;
		}

		// Replace example.com with the user-provided domain(s)
		if (currentDomains.length > 0) {
		    query = currentDomains.map(domain => query.replace(/example\.com/g, domain)).join(' OR ');
		}

		// Anti-Bot Delay
		const delay = Math.floor(Math.random() * 1000);

		setTimeout(async () => {
		    const apiKey = getCurrentApiKey();
		    const cx = '759aed2f7b4be4b83'; // Replace with your CSE ID
		    const googleApiUrl = `https://www.googleapis.com/customsearch/v1?q=${encodeURIComponent(query)}&key=${apiKey}&cx=${cx}&start=${startIndex}`;
		    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(googleApiUrl)}`;

		    try {
		        const response = await fetch(proxyUrl);
		        if (!response.ok) {
		            throw new Error('Network response was not ok');
		        }
		        const data = await response.json();
		        const jsonData = JSON.parse(data.contents);

		        // Check for quota exceeded error
		        if (jsonData.error && jsonData.error.code === 429) {
		            // Switch to the next API key
		            switchApiKey();
		            // Retry the request with the next API key
		            performSearch(startIndex, query, notify);
		            return;
		        }

		        if (jsonData.items) {
		            displayResults(jsonData.items);
		            setupPaginationControls(jsonData.queries, startIndex, query);
		            if (notify) {
		                showNotification(`Results found`); // ${jsonData.items.length}
		            }
		        } else {
		            resultsContainer.innerHTML = '<p>No results found.</p>';
		            if (notify) {
		                showNotification('No results found');
		            }
		        }
		    } catch (error) {
		        resultsContainer.innerHTML = `<p>Error fetching search results: ${error.message}</p>`;
		        if (notify) {
		            showNotification('Error fetching search results');
		        }
		    }
		}, delay);
	}


    // Display search results
    function displayResults(items) {
        const resultsContainer = document.getElementById("resultsContainer");
        items.forEach(item => {
            const resultItem = document.createElement("div");
            resultItem.className = "result-item";

            const title = document.createElement("a");
            title.href = item.link;
            title.textContent = item.title;
            title.target = "_blank";

            const snippet = document.createElement("p");
            snippet.textContent = item.snippet;

            resultItem.appendChild(title);
            resultItem.appendChild(snippet);

            resultsContainer.appendChild(resultItem);
        });
    }

    // Setup pagination controls
    function setupPaginationControls(queries, startIndex, query) {
        const paginationControls = document.getElementById("paginationControls");
        paginationControls.innerHTML = '';

        // Pagination data from the API response
        const totalResults = parseInt(queries.request[0].totalResults, 10);
        const previousIndex = startIndex - resultsPerPage;
        const nextIndex = startIndex + resultsPerPage;

        // Previous button
        const prevButton = document.createElement("button");
        prevButton.textContent = "Previous";
        prevButton.disabled = startIndex <= 1;
        prevButton.addEventListener("click", () => performSearch(previousIndex, query));
        paginationControls.appendChild(prevButton);

        // Next button
        const nextButton = document.createElement("button");
        nextButton.textContent = "Next";
        nextButton.disabled = nextIndex > totalResults;
        nextButton.addEventListener("click", () => performSearch(nextIndex, query));
        paginationControls.appendChild(nextButton);
    }

    // Event listener for search button
	document.getElementById("searchButton").addEventListener("click", function(event) {
		event.preventDefault();
		const searchInput = document.getElementById("searchInput").value.trim();
		if (searchInput !== '') {
		    currentPage = 1;
		    performSearch(currentPage, searchInput, false); // Pass false to not show notification
		}
	});

	function showNotification(message) {
		const notification = document.getElementById("notification");
		notification.textContent = message;
		notification.style.display = "block";
		clearTimeout(notification.timeout); // Clear any existing timeout to reset
		notification.timeout = setTimeout(() => {
		    notification.style.display = "none";
		}, 3000);
	}

    // Event listener for Enter key in search input
	document.getElementById("searchInput").addEventListener("keypress", function(event) {
		if (event.key === "Enter") {
		    event.preventDefault();
		    const searchInput = this.value.trim();
		    if (searchInput !== '') {
		        currentPage = 1;
		        performSearch(currentPage, searchInput, false); // Pass false to not show notification
		    }
		}
	});

    document.getElementById('cheatsheets-pane').addEventListener('click', function() {
            // Check if the window already exists
            if (document.getElementById('cheatsheets-window')) return;

            // Create a new window inside the page
            let cheatsheetsWindow = document.createElement('div');
            cheatsheetsWindow.id = 'cheatsheets-window';
            cheatsheetsWindow.innerHTML = `
                <div id="cheatsheets-window-header">
                    <button id="close-cheatsheets">&times;</button>
                    <h5>Cheatsheets</h5>
                </div>
                <div id="cheatsheets-content" style="padding-top: 10px;">
                    <!-- Insert Cheatsheets content here -->
                </div>
            `;

            // Append the window to the body
            document.body.appendChild(cheatsheetsWindow);

            // Load the Cheatsheets content (you can adjust this as needed)
            document.getElementById('cheatsheets-content').innerHTML = document.getElementById('cheatsheets').innerHTML;

            // Add event listener to the close button
            document.getElementById('close-cheatsheets').addEventListener('click', function() {
                document.body.removeChild(cheatsheetsWindow);
            });

            // Close the window when clicking outside of it
            document.addEventListener('click', function(event) {
                if (!cheatsheetsWindow.contains(event.target) && event.target.id !== 'cheatsheets-pane') {
                    document.body.removeChild(cheatsheetsWindow);
                }
            });
        });



    // Functionality for Google Dorks section
    let originalDorks = [];

    async function fetchDorks() {
        const url = "https://raw.githubusercontent.com/Vulnpire/bounty-search-engine/main/dorks/google-dorks.md";
        const response = await fetch(url);
        const text = await response.text();

        const dorkList = document.getElementById("dorkList");
        const regex = /(?:^### (.+)|^> (.+))/gm;
        let match;
        let title = '';
        let firstDork = true;

        while ((match = regex.exec(text)) !== null) {
            if (match[1]) {
                // Title match
                title = match[1];
            } else {
                // Dork match
                if (firstDork) {
                    firstDork = false;
                    continue;
                }
                const dork = match[2];
                originalDorks.push(dork);
                const listItem = createDorkListItem(dork, title);
                dorkList.appendChild(listItem);
            }
        }
    }

    let prevTitle = '';

    function createDorkListItem(dork, description) {
        const listItem = document.createElement("li");

        if (description && description !== prevTitle) {
            const desc = document.createElement("p");
            desc.textContent = description;
            desc.classList.add("description");
            listItem.appendChild(desc);
            prevTitle = description;
        }

        const link = document.createElement("a");
        link.textContent = dork;
        link.classList.add("dorkLink");
        link.href = "#";
		link.addEventListener("click", (event) => {
			event.preventDefault();
			const updatedDork = currentDomains.length > 0 ?
				currentDomains.map(domain => dork.replace(/example\.com/g, domain)).join(' OR ') :
				dork;
			document.getElementById("searchInput").value = updatedDork;
			performSearch(1, updatedDork, true); // Pass true to show notification
		});

        listItem.appendChild(link);

        return listItem;
    }


    // Update domain function
    function updateDomain() {
        const domainInput = document.getElementById("domainInput");
        currentDomains = domainInput.value.split(",").map(domain => domain.trim());

        // Update dork links with new domains
        const dorkLinks = document.querySelectorAll(".dorkLink");
        dorkLinks.forEach((link, index) => {
            const originalDork = originalDorks[index];
            const updatedDork = currentDomains.length > 0 ?
                currentDomains.map(domain => originalDork.replace(/example\.com/g, domain)).join(' OR ') :
                originalDork;
            link.textContent = updatedDork;
        });

        // Clear search results
        clearSearchResults();
    }

    document.addEventListener("DOMContentLoaded", function() {
        const categories = document.querySelectorAll(".cheatsheet-tab .category h3");
        categories.forEach(category => {
            category.addEventListener("click", function() {
                const ul = this.nextElementSibling;
                ul.style.display = ul.style.display === "block" ? "none" : "block";
                this.textContent = this.textContent.endsWith("+") 
                    ? this.textContent.replace("+", "-") 
                    : this.textContent.replace("-", "+");
            });
        });
    });

    // Clear search results function
    function clearSearchResults() {
        const resultsContainer = document.getElementById("resultsContainer");
        resultsContainer.innerHTML = '';
    }

    document.getElementById("domainInput").addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            updateDomain();
        }
    });


    // Event listener for "Update Domain" button
    document.getElementById("updateDomainButton").addEventListener("click", function(event) {
        event.preventDefault();
        updateDomain();
    });

    // Fetch dorks on page load
    fetchDorks();

</script>
